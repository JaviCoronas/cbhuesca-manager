---
import { getCollection } from "astro:content";
import GlobalLayout from "../layouts/GlobalLayout.astro";
import { Image } from "astro:assets";
const pageTitle = "Noticias";

const allPosts = await getCollection("posts");
---

<GlobalLayout pageTitle={pageTitle}>
  <div class="bg-slate-200">
    <div
      class="flex flex-col h-30 items-center justify-center bg-cover bg-center"
      style="background-image: url('/assets/historyHeader.webp');"
    >
      <div class="flex-none">
        <div class="flex flex-col items-center justify-center h-36 md:h-96">
          <h1
            class="text-3xl md:text-5xl lg:text-6xl text-white font-sans font-extrabold text-center mb-4 z-10"
          >
            NOTICIAS
          </h1>
          <p class="text-lg text-white text-center z-10 font-sans"></p>
        </div>
      </div>
    </div>
    <div
      class="flex flex-row justify-center items-center font sans mt-12 md:mr-10 md:ml-10 mr-3 ml-3"
    >
      <div class="md:w-2/3 w-full">
        {
          allPosts.reverse().map((post) => (
            <>
              <a href={`/posts/${post.slug}`}>
                <div class="flex md:flex-row flex-col py-4 mb-3 shadow-xl rounded-xl bg-slate-100">
                  <div class="flex md:w-1/3 overflow-visible py-2 items-center justify-center">
                    <Image
                      alt="alt"
                      class="object-cover rounded-xl hover:cursor-pointer"
                      src={post.data.coverImage}
                      width={270}
                      height={130}
                    />
                  </div>
                  <div class="pb-0 pt-2 px-4 flex-col items-start md:w-2/3">
                    <small class="text-default-500 font-sans">
                      {post.data.date}
                    </small>
                    <h4 class="font-bold text-large md:text-3xl font-sans">
                      {post.data.title}
                    </h4>
                    <p class="italic text-slate-500 mt-5 hidden md:block">
                      {post.data.resume}
                    </p>
                  </div>
                  <div class="absolute bottom-5 right-5 items-end justify-end invisible md:visible" />
                </div>
              </a>
            </>
          ))
        }
      </div>
    </div>
  </div>
</GlobalLayout>
